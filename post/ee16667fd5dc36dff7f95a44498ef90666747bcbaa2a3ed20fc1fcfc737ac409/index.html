<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.79.0"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta property="og:title" content="Launch HN: Pyroscope (YC W21) – Continuous profiling software"><meta name=author content="Hacker News Frontpage"><meta name=keywords content="Hacker-News-Frontpage"><meta property="og:title" content="Launch HN: Pyroscope (YC W21) – Continuous profiling software"><meta property="og:description" content="Hi HN! Dmitry and Ryan here. We're building Pyroscope (https://pyroscope.io/) — an open source continuous profiling platform (https://github.com/pyroscope-io/pyroscope).We started working on it a few months ago. I did a lot of profiling at my last job and I always thought that profiling tools provide a ton of value in terms of reducing latency and cutting cloud costs, but are very hard to use. With most of them you have to profile your programs locally on your machine."><meta property="og:type" content="article"><meta property="og:url" content="https://news.panz3r.dev/post/ee16667fd5dc36dff7f95a44498ef90666747bcbaa2a3ed20fc1fcfc737ac409/"><meta property="article:published_time" content="2021-02-15T16:00:42+00:00"><meta property="article:modified_time" content="2021-02-15T16:00:42+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Launch HN: Pyroscope (YC W21) – Continuous profiling software"><meta name=twitter:description content="Hi HN! Dmitry and Ryan here. We're building Pyroscope (https://pyroscope.io/) — an open source continuous profiling platform (https://github.com/pyroscope-io/pyroscope).We started working on it a few months ago. I did a lot of profiling at my last job and I always thought that profiling tools provide a ton of value in terms of reducing latency and cutting cloud costs, but are very hard to use. With most of them you have to profile your programs locally on your machine."><link rel="shortcut icon" href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=mask-icon color=#8a0000 href=/safari-pinned-tab.svg><meta name=msapplication-TileColor content="#8A0000"><link rel=stylesheet type=text/css media=screen href=/css/normalize.min.15dd2454cf02be612cd84be5a0307ecae7e9c84d08f88ab2d1e9332717d10fe9b63484bb4c5352072da0915d1a6d48fa41994fb99c120c891cca431b4448f44d.css integrity="sha512-Fd0kVM8CvmEs2EvloDB+yufpyE0I+Iqy0ekzJxfRD+m2NIS7TFNSBy2gkV0abUj6QZlPuZwSDIkcykMbREj0TQ=="><link rel=stylesheet type=text/css media=screen href=/css/main.min.213824d03b199f0409b76c8566e3f3e4fbbe8f03c184b43a665128ee2120bbf3704a1d62249e92ad27ba4c158e21f02299e52148b06efa51a5e54824bfdf6f95.css integrity="sha512-ITgk0DsZnwQJt2yFZuPz5Pu+jwPBhLQ6ZlEo7iEgu/NwSh1iJJ6SrSe6TBWOIfAimeUhSLBu+lGl5Ugkv99vlQ=="><link rel=stylesheet type=text/css media=screen href=/css/all.min.7f32dbc7bd58ff2403d30d3f50cb1c7bbde2de8c48b5c7766b604af90fd927f49223416329d86b9c726d5d06389614ff769288a82570d962a1e50f19efd4b0ce.css integrity="sha512-fzLbx71Y/yQD0w0/UMsce73i3oxItcd2a2BK+Q/ZJ/SSI0FjKdhrnHJtXQY4lhT/dpKIqCVw2WKh5Q8Z79Swzg=="><title>Launch HN: Pyroscope (YC W21) – Continuous profiling software | Panz3r News</title></head><body><header><div id=titletext><h2 id=title><a href=https://news.panz3r.dev/>Panz3r News</a></h2></div><div id=title-description><div id=social><nav><ul><li><a href=https://github.com/panz3r/news-feed><i title=Github class="icons fab fa-github"></i></a></li><li><a href=/index.xml><i title=RSS class="icons fas fa-rss"></i></a></li></ul></nav></div></div><div id=mainmenu><nav><ul><li><a href=/>Home</a></li><li><a href=/tags>Tags</a></li></ul></nav></div></header><main><div class=post><div class=author><p>From <a href="https://news.ycombinator.com/item?id=26143923" target=_blank rel="noopener noreferrer">Hacker News Frontpage</a></p></div><div class=post-header><div class=meta><div class=date><span class=day>15</span>
<span class=rest>Feb 2021</span></div></div><div class=matter><h1 class=title>Launch HN: Pyroscope (YC W21) – Continuous profiling software</h1></div></div><div class=markdown><p>Hi HN! Dmitry and Ryan here. We're building Pyroscope (<a href=https://pyroscope.io/ rel=nofollow>https://pyroscope.io/</a>) — an open source continuous profiling platform (<a href=https://github.com/pyroscope-io/pyroscope rel=nofollow>https://github.com/pyroscope-io/pyroscope</a>).<p>We started working on it a few months ago. I did a lot of profiling at my last job and I always thought that profiling tools provide a ton of value in terms of reducing latency and cutting cloud costs, but are very hard to use. With most of them you have to profile your programs locally on your machine. If you can profile in production, you often have to be very lucky to catch the issues happening live, you can't just go back in time with these tools.<p>So I thought, why not just run some profiler 24/7 in production environment?<p>I talked about this to my friend Ryan and we started working. One of the big concerns we heard from people early on was that profilers typically slow down your code, sometimes to the point that it's not suitable for production use at all. We solved this issue by using sampling profilers — those work by looking at the stacktrace X number of times per second instead of hooking into method calls and that makes profiling much less taxing on the CPU.<p>The next big issue that came up was storage — if you simply get a bunch of profiles, gzip them and then store them on disk they will consume a lot of space very quickly, so much that it will become impractical and too expensive to do so. We spent a lot of energy trying to come up with a way of storing the data that would be efficient and fast to query. In the end we came up with a system that uses segment trees [1] for fast reads (basically each read becomes log(n)), and tries [2] for storing the symbols (same trick that's used to encode symbols in Mach-O file format for example). This is at least 10 times more efficient than just gzipping profiles.<p>After we did all of this we ran some back of the envelope calculations and the results were really good — with this approach you can profile thousands of apps with 100Hz frequency and 10 second granularity for 1 year and it will only cost you about 1% of your existing cloud costs (CPU + RAM + Disk). E.g if you currently run 100 c5.large machines we estimate that you'll need just one more c5.large to store all that profiling data.<p>Currently we have support for Go, Python and Ruby and the setup is usually just a few lines of code. We plan to release eBPF, Node and Java integrations soon. We also have a live demo with 1 year of profiling data collected from an example Python app <a href="https://demo.pyroscope.io/?name=hotrod.python.frontend{}&from=now-1y" rel=nofollow>https://demo.pyroscope.io/?name=hotrod.python.frontend{}&fro...</a><p>And that's where we are right now. Our long term plan is to keep the core of the project open source, and provide the community with paid services like hosting and support. The hosted version is in the works and we aim to do a public release in about a month or so.<p>Give it a try: <a href=https://github.com/pyroscope-io/pyroscope rel=nofollow>https://github.com/pyroscope-io/pyroscope</a>. We look forward to receiving your feedback on our work so far. Even better, we would love to hear about the ways people currently use profilers and how we can make the whole experience less frustrating and ultimately help everyone make their code faster and cut their cloud costs.<p>[1] <a href=https://en.wikipedia.org/wiki/Segment_tree rel=nofollow>https://en.wikipedia.org/wiki/Segment_tree</a><p>[2] <a href=https://en.wikipedia.org/wiki/Trie rel=nofollow>https://en.wikipedia.org/wiki/Trie</a></p><hr><p>Comments URL: <a href="https://news.ycombinator.com/item?id=26143923">https://news.ycombinator.com/item?id=26143923</a></p><p>Points: 75</p><p># Comments: 21</p></div><div class=tags><div class=taxosfloating_left><p>Tags</p></div><div class=termsfloating_right><p><a href=/tags/hacker-news-frontpage/>hacker-news-frontpage</a></p></div><div class=clearit></div></div></div></main><footer><a href=https://github.com/panz3r>Panz3r</a> 2020 | <a href=https://github.com/panz3r/hugo-vitae>Vitae</a> theme for <a href=https://gohugo.io>Hugo</a></footer></body></html>