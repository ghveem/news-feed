<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.79.0"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta property="og:title" content="Launch HN: Lunatic (YC W21) – An Erlang Inspired WebAssembly Platform"><meta name=author content="Hacker News Frontpage"><meta name=keywords content="Hacker-News-Frontpage"><meta property="og:title" content="Launch HN: Lunatic (YC W21) – An Erlang Inspired WebAssembly Platform"><meta property="og:description" content="Hi HN! We’re Bernard & Hrvoje and we are Lunatic (https://lunatic.solutions/). Our goal is to improve how you run server-side code by building an open-source runtime that gives you lightweight processes, fault tolerance, and capability-based security for different parts of the application. Basically, we want to combine the power of Erlang with WebAssembly and bring that to new and existing applications.The two of us met in high school, studied computer science together, but then went separate ways working as backend engineers."><meta property="og:type" content="article"><meta property="og:url" content="https://news.panz3r.dev/post/9b07130496b0e4c76919a054e2b8647ee6e1f46d3734a7ef955d22439f212027/"><meta property="article:published_time" content="2021-03-06T12:49:37+00:00"><meta property="article:modified_time" content="2021-03-06T12:49:37+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Launch HN: Lunatic (YC W21) – An Erlang Inspired WebAssembly Platform"><meta name=twitter:description content="Hi HN! We’re Bernard & Hrvoje and we are Lunatic (https://lunatic.solutions/). Our goal is to improve how you run server-side code by building an open-source runtime that gives you lightweight processes, fault tolerance, and capability-based security for different parts of the application. Basically, we want to combine the power of Erlang with WebAssembly and bring that to new and existing applications.The two of us met in high school, studied computer science together, but then went separate ways working as backend engineers."><link rel="shortcut icon" href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=mask-icon color=#8a0000 href=/safari-pinned-tab.svg><meta name=msapplication-TileColor content="#8A0000"><link rel=stylesheet type=text/css media=screen href=/css/normalize.min.15dd2454cf02be612cd84be5a0307ecae7e9c84d08f88ab2d1e9332717d10fe9b63484bb4c5352072da0915d1a6d48fa41994fb99c120c891cca431b4448f44d.css integrity="sha512-Fd0kVM8CvmEs2EvloDB+yufpyE0I+Iqy0ekzJxfRD+m2NIS7TFNSBy2gkV0abUj6QZlPuZwSDIkcykMbREj0TQ=="><link rel=stylesheet type=text/css media=screen href=/css/main.min.213824d03b199f0409b76c8566e3f3e4fbbe8f03c184b43a665128ee2120bbf3704a1d62249e92ad27ba4c158e21f02299e52148b06efa51a5e54824bfdf6f95.css integrity="sha512-ITgk0DsZnwQJt2yFZuPz5Pu+jwPBhLQ6ZlEo7iEgu/NwSh1iJJ6SrSe6TBWOIfAimeUhSLBu+lGl5Ugkv99vlQ=="><link rel=stylesheet type=text/css media=screen href=/css/all.min.7f32dbc7bd58ff2403d30d3f50cb1c7bbde2de8c48b5c7766b604af90fd927f49223416329d86b9c726d5d06389614ff769288a82570d962a1e50f19efd4b0ce.css integrity="sha512-fzLbx71Y/yQD0w0/UMsce73i3oxItcd2a2BK+Q/ZJ/SSI0FjKdhrnHJtXQY4lhT/dpKIqCVw2WKh5Q8Z79Swzg=="><title>Launch HN: Lunatic (YC W21) – An Erlang Inspired WebAssembly Platform | Panz3r News</title></head><body><header><div id=titletext><h2 id=title><a href=https://news.panz3r.dev/>Panz3r News</a></h2></div><div id=title-description><div id=social><nav><ul><li><a href=https://github.com/panz3r/news-feed><i title=Github class="icons fab fa-github"></i></a></li><li><a href=/index.xml><i title=RSS class="icons fas fa-rss"></i></a></li></ul></nav></div></div><div id=mainmenu><nav><ul><li><a href=/>Home</a></li><li><a href=/tags>Tags</a></li></ul></nav></div></header><main><div class=post><div class=author><p>From <a href="https://news.ycombinator.com/item?id=26367029" target=_blank rel="noopener noreferrer">Hacker News Frontpage</a></p></div><div class=post-header><div class=meta><div class=date><span class=day>06</span>
<span class=rest>Mar 2021</span></div></div><div class=matter><h1 class=title>Launch HN: Lunatic (YC W21) – An Erlang Inspired WebAssembly Platform</h1></div></div><div class=markdown><p>Hi HN! We’re Bernard & Hrvoje and we are Lunatic (<a href=https://lunatic.solutions/ rel=nofollow>https://lunatic.solutions/</a>). Our goal is to improve how you run server-side code by building an open-source runtime that gives you lightweight processes, fault tolerance, and capability-based security for different parts of the application. Basically, we want to combine the power of Erlang with WebAssembly and bring that to new and existing applications.<p>The two of us met in high school, studied computer science together, but then went separate ways working as backend engineers. Bernard worked at CERN and Hrvoje co-founded Amodo, an insurance tech startup. Bernard, being a huge fan of Erlang/Elixir, started working on a similar open-source runtime for WebAssembly which he called Lunatic (<a href=https://github.com/lunatic-solutions/lunatic rel=nofollow>https://github.com/lunatic-solutions/lunatic</a>).<p>Lunatic runs Wasm modules as lightweight processes with its own heap/stack and preemptively schedules them on a multi-threaded executor. You can spawn those processes using a library we provide (currently for Rust and AssemblyScript) to enable actor-based architectures with message passing. Scheduling is implemented by modifying a Wasm module and adding “reduction counts” (similar to Erlang). You can write seemingly blocking code but it won’t actually block the underlying OS thread as our implementation of WebAssembly System Interface (WASI, think of it as POSIX syscalls) will be implemented with async Rust and a bit of magic [0] :) The code is JIT’ed and we build on top of existing Wasm runtimes Wasmtime/Wasmer for this part (codegen is done by LLVM or Cranelift).<p>To step back from technical details, working on Lunatic for the past few months, we have started to form a bigger picture about server-side applications. Over the years we have witnessed many trends: Docker & containers became popular, asynchronous programming and green threads are ubiquitous for IO intense work, polyglot codebases are always present, microservice architecture became popular, and distributed is being used both for scale and to bring computation closer to clients to lower latency. Two important driving forces are hardware capabilities and how we develop software. Those have changed dramatically from the time operating systems were created.<p>For example, to maximize resource usage of a single machine, we started running virtual machines and then moved to more lightweight containers, both to give isolation and sandboxing to different applications. Serverless is pushing this even further. Lunatic builds on top of WebAssembly security principles [1] to give sandboxing and isolation to enable even more lightweight environments.<p>Servers also needed to handle more and more network connections and spawning an OS thread per connection became problematic so developers used different programming patterns, async implementations, or user-space threads/processes to tackle this problem. Lunatic solves this by using Erlang’s proven approach [2].<p>How we develop software has also changed. Today most of our application consists of third-party libraries and it’s common to have hundreds or even thousands of dependencies and obviously it’s impossible to audit them all. When you compile and run your application, the whole code has the same privileges, so a malicious dependency could easily steal your private keys.[3,4,5] WebAssembly is trying to standardise ideas like Interface Types and dynamic linking between Wasm modules. We could isolate libraries into different modules based on capabilities they require (which “system calls” they use) and let developers decide which parts of their app have what capabilities.<p>Other use-cases that Lunatic and Wasm enable are plugin architecture to run third-party code, sharing code between frontend and backend, polyglot codebases that use Wasm interface types to call each other functions, etc.<p>Currently Lunatic is just a runtime but ultimately we want it to be more like an operating system for server-side applications. The value we want to give to developers is simpler deployment and management of running apps, better capability-based security model, and seamless integration with third-party tools (logging, monitoring, profiling). Ideally all you need to do is compile your app to WebAssembly and you are ready to go.<p>We have built two demo apps to showcase Lunatic. Lunatic.run (<a href=https://lunatic.solutions/run/ rel=nofollow>https://lunatic.solutions/run/</a>) turns any command line application into a web server endpoint. Read HTTP requests from stdin and respond to stdout. The other is Lunatic.chat, a telnet chat server written in Rust using actor-based architecture (<a href=https://github.com/lunatic-solutions/chat rel=nofollow>https://github.com/lunatic-solutions/chat</a>).<p>We are super excited to work on these problems and we hope we have managed to convey some of that excitement to you. Please share with us your thoughts and questions. Does our big picture resonate with you? Would you like to use a runtime like Lunatic? Do you have some other use-cases in mind?<p>[0] <a href=https://crates.io/crates/async-wormhole rel=nofollow>https://crates.io/crates/async-wormhole</a>
[1] <a href=https://webassembly.org/docs/security/ rel=nofollow>https://webassembly.org/docs/security/</a>
[2] <a href=https://www.phoenixframework.org/blog/the-road-to-2-million-websocket-connections rel=nofollow>https://www.phoenixframework.org/blog/the-road-to-2-million-...</a>
[3] <a href="https://news.ycombinator.com/item?id=26087064" rel=nofollow>https://news.ycombinator.com/item?id=26087064</a>
[4] <a href=https://jordan-wright.com/blog/post/2020-11-12-hunting-for-malicious-packages-on-pypi/ rel=nofollow>https://jordan-wright.com/blog/post/2020-11-12-hunting-for-m...</a>
[5] <a href=https://snyk.io/blog/yet-another-malicious-package-found-in-npm-targeting-cryptocurrency-wallets/ rel=nofollow>https://snyk.io/blog/yet-another-malicious-package-found-in-...</a></p><hr><p>Comments URL: <a href="https://news.ycombinator.com/item?id=26367029">https://news.ycombinator.com/item?id=26367029</a></p><p>Points: 124</p><p># Comments: 29</p></div><div class=tags><div class=taxosfloating_left><p>Tags</p></div><div class=termsfloating_right><p><a href=/tags/hacker-news-frontpage/>hacker-news-frontpage</a></p></div><div class=clearit></div></div></div></main><footer><a href=https://github.com/panz3r>Panz3r</a> 2020 | <a href=https://github.com/panz3r/hugo-vitae>Vitae</a> theme for <a href=https://gohugo.io>Hugo</a></footer></body></html>